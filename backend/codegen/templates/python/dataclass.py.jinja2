"""
{{ docstring }}

Generated by Socrates2 Code Generation Engine
"""

from dataclasses import dataclass, field
from typing import Optional, Dict, Any, List
import json
from datetime import datetime


@dataclass
class {{ name }}:
    """
    {{ docstring }}

    Attributes:
        id: Unique identifier
        name: Object name
        created_at: Creation timestamp
        updated_at: Last update timestamp
        metadata: Additional metadata
    """

    id: str = field(default_factory=lambda: str(__import__('uuid').uuid4()))
    name: str = ""
    created_at: datetime = field(default_factory=datetime.now)
    updated_at: datetime = field(default_factory=datetime.now)
    metadata: Dict[str, Any] = field(default_factory=dict)

    def __post_init__(self) -> None:
        """Validate after initialization."""
        if not self.name:
            raise ValueError("name cannot be empty")

    def to_dict(self) -> Dict[str, Any]:
        """
        Convert to dictionary.

        Returns:
            Dictionary representation
        """
        return {
            'id': self.id,
            'name': self.name,
            'created_at': self.created_at.isoformat(),
            'updated_at': self.updated_at.isoformat(),
            'metadata': self.metadata
        }

    @classmethod
    def from_dict(cls, data: Dict[str, Any]) -> '{{ name }}':
        """
        Create from dictionary.

        Args:
            data: Dictionary containing object data

        Returns:
            New instance
        """
        return cls(
            id=data.get('id', str(__import__('uuid').uuid4())),
            name=data.get('name', ''),
            created_at=datetime.fromisoformat(data['created_at']) if 'created_at' in data else datetime.now(),
            updated_at=datetime.fromisoformat(data['updated_at']) if 'updated_at' in data else datetime.now(),
            metadata=data.get('metadata', {})
        )

    def to_json(self) -> str:
        """
        Convert to JSON string.

        Returns:
            JSON representation
        """
        return json.dumps(self.to_dict(), default=str)

    @classmethod
    def from_json(cls, json_str: str) -> '{{ name }}':
        """
        Create from JSON string.

        Args:
            json_str: JSON string

        Returns:
            New instance
        """
        data = json.loads(json_str)
        return cls.from_dict(data)

    def update(self, **kwargs) -> None:
        """
        Update object fields.

        Args:
            **kwargs: Fields to update
        """
        for key, value in kwargs.items():
            if hasattr(self, key):
                setattr(self, key, value)
        self.updated_at = datetime.now()

    def validate(self) -> bool:
        """
        Validate object.

        Returns:
            True if valid, False otherwise
        """
        return bool(self.name) and bool(self.id)
